<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Unidad 3 Lectura |  “Taller de R aplicado a la demografía”</title>
  <meta name="description" content="<br />
“Taller de R aplicado a la demografía”</p>" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Unidad 3 Lectura |  “Taller de R aplicado a la demografía”" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="IvanWilli/TallerDemoR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Unidad 3 Lectura |  “Taller de R aplicado a la demografía”" />
  
  
  

<meta name="author" content="Ayelén Martinez, Florencia Bathory e Iván Williams" />


<meta name="date" content="2023-10-27" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intro.html"/>
<link rel="next" href="dplyr.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Taller de R aplciado a la demografía</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introducción</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#información-general"><i class="fa fa-check"></i><b>1.1</b> Información general</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#preparándonos"><i class="fa fa-check"></i><b>1.2</b> PrepaRándonos</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#instalación-de-y-rstudio"><i class="fa fa-check"></i><b>1.2.1</b> Instalación de y RStudio</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#instalación-de-paquetes"><i class="fa fa-check"></i><b>1.2.2</b> Instalación de paquetes</a></li>
<li class="chapter" data-level="1.2.3" data-path="index.html"><a href="index.html#foro"><i class="fa fa-check"></i><b>1.2.3</b> Foro</a></li>
<li class="chapter" data-level="1.2.4" data-path="index.html"><a href="index.html#por-último"><i class="fa fa-check"></i><b>1.2.4</b> Por último</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#introducción-1"><i class="fa fa-check"></i><b>1.3</b> Introducción</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> R Base</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#el-proyecto-taller"><i class="fa fa-check"></i><b>2.1</b> El proyecto Taller</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="intro.html"><a href="intro.html#variables"><i class="fa fa-check"></i><b>2.1.1</b> Variables</a></li>
<li class="chapter" data-level="2.1.2" data-path="intro.html"><a href="intro.html#actividad-individual"><i class="fa fa-check"></i><b>2.1.2</b> Actividad individual</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#vectores"><i class="fa fa-check"></i><b>2.2</b> Vectores</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intro.html"><a href="intro.html#actividad"><i class="fa fa-check"></i><b>2.2.1</b> Actividad</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#data.frames"><i class="fa fa-check"></i><b>2.3</b> Data.frames</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="intro.html"><a href="intro.html#actividad-1"><i class="fa fa-check"></i><b>2.3.1</b> Actividad</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#listas"><i class="fa fa-check"></i><b>2.4</b> Listas (*)</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intro.html"><a href="intro.html#actividad-2"><i class="fa fa-check"></i><b>2.4.1</b> Actividad (*)</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#referencias-y-materiales-adicionales"><i class="fa fa-check"></i><b>2.5</b> Referencias y materiales adicionales</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="lectura.html"><a href="lectura.html"><i class="fa fa-check"></i><b>3</b> Lectura</a>
<ul>
<li class="chapter" data-level="3.1" data-path="lectura.html"><a href="lectura.html#lectura-de-datos"><i class="fa fa-check"></i><b>3.1</b> Lectura de datos</a></li>
<li class="chapter" data-level="3.2" data-path="lectura.html"><a href="lectura.html#acceso-a-archivos-no-locales"><i class="fa fa-check"></i><b>3.2</b> Acceso a archivos no locales</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="lectura.html"><a href="lectura.html#actividad-3"><i class="fa fa-check"></i><b>3.2.1</b> Actividad</a></li>
<li class="chapter" data-level="3.2.2" data-path="lectura.html"><a href="lectura.html#recursos-adicionales"><i class="fa fa-check"></i><b>3.2.2</b> Recursos adicionales</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>4</b> dplyr</a>
<ul>
<li class="chapter" data-level="4.1" data-path="dplyr.html"><a href="dplyr.html#seleccionar-select-renombrar-rename"><i class="fa fa-check"></i><b>4.1</b> seleccionar (<strong>select</strong>), renombrar (<strong>rename</strong>)</a></li>
<li class="chapter" data-level="4.2" data-path="dplyr.html"><a href="dplyr.html#resumir-summarise-por-grupos-group_by"><i class="fa fa-check"></i><b>4.2</b> resumir (<strong>summarise</strong>) por grupos (<strong>group_by</strong>)</a></li>
<li class="chapter" data-level="4.3" data-path="dplyr.html"><a href="dplyr.html#transformar-mutate-filtrar-filter-ordenar-arrange"><i class="fa fa-check"></i><b>4.3</b> transformar (<strong>mutate</strong>), filtrar (<strong>filter</strong>), ordenar (<strong>arrange</strong>)</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="dplyr.html"><a href="dplyr.html#recursos-adicionales-1"><i class="fa fa-check"></i><b>4.3.1</b> Recursos adicionales</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ggplot.html"><a href="ggplot.html"><i class="fa fa-check"></i><b>5</b> ggplot</a>
<ul>
<li class="chapter" data-level="5.1" data-path="ggplot.html"><a href="ggplot.html#introducción-2"><i class="fa fa-check"></i><b>5.1</b> Introducción</a></li>
<li class="chapter" data-level="5.2" data-path="ggplot.html"><a href="ggplot.html#ggplot-1"><i class="fa fa-check"></i><b>5.2</b> ggplot</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="ggplot.html"><a href="ggplot.html#actividad-6"><i class="fa fa-check"></i><b>5.2.1</b> Actividad</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="ggplot.html"><a href="ggplot.html#reproduciendo"><i class="fa fa-check"></i><b>5.3</b> Reproduciendo</a></li>
<li class="chapter" data-level="5.4" data-path="ggplot.html"><a href="ggplot.html#lexisplotr"><i class="fa fa-check"></i><b>5.4</b> LexisPLotR</a></li>
<li class="chapter" data-level="5.5" data-path="ggplot.html"><a href="ggplot.html#estudio-de-cohorte-un-ejemplo"><i class="fa fa-check"></i><b>5.5</b> Estudio de cohorte: un ejemplo</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="ggplot.html"><a href="ggplot.html#actividad-7"><i class="fa fa-check"></i><b>5.5.1</b> Actividad</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="ggplot.html"><a href="ggplot.html#recursos-adicionales-2"><i class="fa fa-check"></i><b>5.6</b> Recursos Adicionales</a></li>
<li class="chapter" data-level="5.7" data-path="ggplot.html"><a href="ggplot.html#otras-visualizaciones"><i class="fa fa-check"></i><b>5.7</b> Otras visualizaciones</a></li>
<li class="chapter" data-level="5.8" data-path="ggplot.html"><a href="ggplot.html#material-adicional-y-no-tanto"><i class="fa fa-check"></i><b>5.8</b> Material adicional (y no tanto)</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="funciones.html"><a href="funciones.html"><i class="fa fa-check"></i><b>6</b> Funciones</a>
<ul>
<li class="chapter" data-level="6.1" data-path="funciones.html"><a href="funciones.html#demografía"><i class="fa fa-check"></i><b>6.1</b> DemogRafía</a></li>
<li class="chapter" data-level="6.2" data-path="funciones.html"><a href="funciones.html#funciones-1"><i class="fa fa-check"></i><b>6.2</b> Funciones</a></li>
<li class="chapter" data-level="6.3" data-path="funciones.html"><a href="funciones.html#crecimiento"><i class="fa fa-check"></i><b>6.3</b> Crecimiento</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="funciones.html"><a href="funciones.html#actividad-8"><i class="fa fa-check"></i><b>6.3.1</b> Actividad</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="funciones.html"><a href="funciones.html#estandarizando"><i class="fa fa-check"></i><b>6.4</b> Estandarizando</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="funciones.html"><a href="funciones.html#actividades"><i class="fa fa-check"></i><b>6.4.1</b> Actividades</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="funciones.html"><a href="funciones.html#funciones-demográficas-en-paquetes-demográficos"><i class="fa fa-check"></i><b>6.5</b> Funciones demográficas en paquetes demográficos</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="funciones.html"><a href="funciones.html#tablas-de-mortalidad"><i class="fa fa-check"></i><b>6.5.1</b> Tablas de mortalidad</a></li>
<li class="chapter" data-level="6.5.2" data-path="funciones.html"><a href="funciones.html#evaluación-de-declaración-de-edad"><i class="fa fa-check"></i><b>6.5.2</b> Evaluación de declaración de edad</a></li>
<li class="chapter" data-level="6.5.3" data-path="funciones.html"><a href="funciones.html#graduación-de-población-por-edad-simple"><i class="fa fa-check"></i><b>6.5.3</b> Graduación de población por edad simple</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="reportes.html"><a href="reportes.html"><i class="fa fa-check"></i><b>7</b> Reportes</a>
<ul>
<li class="chapter" data-level="7.1" data-path="reportes.html"><a href="reportes.html#comunicación-y-reproducibilidad"><i class="fa fa-check"></i><b>7.1</b> Comunicación y Reproducibilidad</a></li>
<li class="chapter" data-level="7.2" data-path="reportes.html"><a href="reportes.html#actividad-guiada"><i class="fa fa-check"></i><b>7.2</b> Actividad guiada</a></li>
<li class="chapter" data-level="7.3" data-path="reportes.html"><a href="reportes.html#referencias"><i class="fa fa-check"></i><b>7.3</b> Referencias</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tp.html"><a href="tp.html"><i class="fa fa-check"></i><b>8</b> TP</a>
<ul>
<li class="chapter" data-level="8.1" data-path="tp.html"><a href="tp.html#hemos-llegado"><i class="fa fa-check"></i><b>8.1</b> Hemos llegado:</a></li>
<li class="chapter" data-level="8.2" data-path="tp.html"><a href="tp.html#consigna"><i class="fa fa-check"></i><b>8.2</b> Consigna</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><p><img src="figs/logoUNLU.png" /><br />
“Taller de R aplicado a la demografía”</p></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lectura" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Unidad 3</span> Lectura<a href="lectura.html#lectura" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="lectura-de-datos" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Lectura de datos<a href="lectura.html#lectura-de-datos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>En la unidad previa caracterizamos <strong>un</strong> hogar censal. En esta unidad trabajaremos la <strong>base</strong> de datos censal, con todas sus viviendas, hogares y personas. Para esto recorreremos distintos paquetes del entorno <a href="https://www.tidyverse.org/">tidyverse</a>, cuyo fin es generar un entorno de herramientas especializada en el análisis de datos.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="lectura.html#cb1-1" tabindex="-1"></a><span class="co"># install.packages(&quot;tidyverse&quot;)</span></span>
<span id="cb1-2"><a href="lectura.html#cb1-2" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</span>
<span id="cb1-3"><a href="lectura.html#cb1-3" tabindex="-1"></a><span class="fu">library</span>(fontawesome)</span>
<span id="cb1-4"><a href="lectura.html#cb1-4" tabindex="-1"></a><span class="fu">library</span>(knitr)</span></code></pre></div>
<p>Pero primero haremos un repaso por las distintas opciones de <em>lectura</em> de datos que nos ofrece R. Creemos una carpeta que se llame se llame “Data”, donde dejemos las bases de datos disponibles en el <a href="https://drive.google.com/drive/folders/1wRmATJa1ZcCVk5gDodjtD1SYJLabjlvD?usp=sharing">drive</a>. Verifiquemos que tengamos todas las bases de datos correspondientes en la carpeta “Data” mediante <code>list.files()</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="lectura.html#cb2-1" tabindex="-1"></a><span class="fu">list.files</span>(<span class="st">&quot;Data&quot;</span>)</span></code></pre></div>
<p>Para mostrar las diversas formas de lectura de datos que ofrece R nos valdremos de la Encuesta Permanente de Hogares (<a href="https://www.indec.gob.ar/ftp/cuadros/sociedad/metodologia_eph_continua.pdf">EPH</a>), un operativo estadístico llevado adelante por INDEC con motivo de caracterizar la evolución de los mercados de trabajo de 31 aglomerados urbanos del país. Por ejemplo, si quisiéramos leer la base de datos del primer trimestre de 2019, ¿qué opciones tenemos? Es muy importante aquí que la <em>ruta</em> del archivo a leer sea a partir de la posición de trabajo actual (recuerda <code>getwd()</code>) y hacia donde apuntar (puedes utilizar el predictor con <code>tab</code> luego de generar comillas).</p>
<ul>
<li>Texto plano con separador <code>;</code></li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="lectura.html#cb3-1" tabindex="-1"></a><span class="co"># R base trae funciones para la lectura de datos, las más comunes son &quot;read.table&quot; y &quot;read.csv&quot;</span></span>
<span id="cb3-2"><a href="lectura.html#cb3-2" tabindex="-1"></a>EPH_1t19_txt <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="at">file =</span> <span class="st">&quot;Data/usu_individual_t119.txt&quot;</span>, <span class="at">header =</span> T, <span class="at">sep =</span> <span class="st">&quot;;&quot;</span>)</span>
<span id="cb3-3"><a href="lectura.html#cb3-3" tabindex="-1"></a><span class="fu">head</span>(EPH_1t19_txt[,<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>])</span></code></pre></div>
<pre><code>##                          CODUSU ANO4 TRIMESTRE NRO_HOGAR COMPONENTE
## 1 TQRMNOPPUHKNKNCDEFOCD00629562 2019         1         2          2
## 2 TQRMNOPPUHKNKNCDEFOCD00629562 2019         1         2          3
## 3 TQRMNOPPUHKNKNCDEFOCD00629562 2019         1         2          4
## 4 TQRMNORUQHKNKNCDEFOCD00629563 2019         1         1          1
## 5 TQRMNORUQHKNKNCDEFOCD00629563 2019         1         1          2
## 6 TQRMNOPUVHKOKMCDEFOCD00629564 2019         1         1          2</code></pre>
<ul>
<li>Una planilla excel con extensión <code>xls</code> o <code>xlsx</code>, seleccionando la pestaña (y el rango de celdas si queremos). Aprovechemos a leer la documentación de esta función: <code>?read_xls</code> o desde el tab de paquetes en RStudio.</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="lectura.html#cb5-1" tabindex="-1"></a><span class="fu">library</span>(readxl) <span class="co"># pertenece a tidyverse</span></span>
<span id="cb5-2"><a href="lectura.html#cb5-2" tabindex="-1"></a>EPH_1t19_xls <span class="ot">&lt;-</span> <span class="fu">read_xls</span>(<span class="at">path =</span> <span class="st">&quot;Data/usu_individual_t119.xls&quot;</span>, <span class="at">sheet =</span> <span class="dv">1</span>)</span>
<span id="cb5-3"><a href="lectura.html#cb5-3" tabindex="-1"></a></span>
<span id="cb5-4"><a href="lectura.html#cb5-4" tabindex="-1"></a><span class="co"># quiero el rango B3:C5</span></span>
<span id="cb5-5"><a href="lectura.html#cb5-5" tabindex="-1"></a><span class="fu">read_xls</span>(<span class="at">path =</span> <span class="st">&quot;Data/usu_individual_t119.xls&quot;</span>, <span class="at">sheet =</span> <span class="dv">1</span>, <span class="at">range =</span> <span class="st">&quot;B3:C5&quot;</span>, <span class="at">col_names =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## New names:
## • `` -&gt; `...1`
## • `` -&gt; `...2`</code></pre>
<pre><code>## # A tibble: 3 × 2
##    ...1  ...2
##   &lt;dbl&gt; &lt;dbl&gt;
## 1  2019     1
## 2  2019     1
## 3  2019     1</code></pre>
<ul>
<li>También podemos leer extensiones <em>.dbf</em>, <em>SAS</em>, <em>SPSS</em>, <em>Stata</em>, etcéteras… gracias a la librería <a href="https://cran.r-project.org/package=foreign">foreign</a>. Por ejemplo, una base de datos del entorno SPSS:</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="lectura.html#cb8-1" tabindex="-1"></a><span class="fu">library</span>(foreign)</span>
<span id="cb8-2"><a href="lectura.html#cb8-2" tabindex="-1"></a>EPH_1t19_spss <span class="ot">&lt;-</span> <span class="fu">read.spss</span>(<span class="st">&quot;Data/usu_individual_t119.sav&quot;</span>, <span class="at">to.data.frame=</span><span class="cn">TRUE</span>) </span></code></pre></div>
<ul>
<li>En la primer unidad dijimos que un paquete es <em>compartir</em> <svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M307 34.8c-11.5 5.1-19 16.6-19 29.2v64H176C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96h96v64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"/></svg>, y es lo que hace a una comunidad dinámica. Ya existe un paquete llamado <a href="https://cran.r-project.org/web/packages/eph/eph.pdf">eph</a>. Permite no solo leer las bases de datos trimestre a trimestre, sino funciones para obtener muchos resultados y <em>panelear</em> olas.</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="lectura.html#cb9-1" tabindex="-1"></a><span class="fu">library</span>(eph)</span>
<span id="cb9-2"><a href="lectura.html#cb9-2" tabindex="-1"></a>EPH_1t19_eph <span class="ot">=</span> <span class="fu">get_microdata</span>(<span class="at">year =</span> <span class="dv">2019</span>, <span class="at">trimester =</span> <span class="dv">1</span>, <span class="at">type =</span> <span class="st">&#39;individual&#39;</span>)</span></code></pre></div>
</div>
<div id="acceso-a-archivos-no-locales" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Acceso a archivos no locales<a href="lectura.html#acceso-a-archivos-no-locales" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>También podemos leer un archivo <strong>online</strong>, por ejemplo la base de microdatos de DEIS (Dirección de Estadísticas e Información en Salud). Vayamos a la <a href="http://www.deis.msal.gov.ar/">web</a> primero y veamos como obtener el <em>link</em>. Tiene extensión <a href="https://es.wikipedia.org/wiki/Valores_separados_por_comas"><em>csv</em></a>. Utilicemos la función <code>read.csv</code> comentada anteriormente, pero en vez de apuntar al archivo local hagámoslo al <em>url</em>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="lectura.html#cb10-1" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://www.argentina.gob.ar/sites/default/files/2021/03/defweb17.csv&quot;</span></span>
<span id="cb10-2"><a href="lectura.html#cb10-2" tabindex="-1"></a>DEf17 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(url, <span class="at">header =</span> T)</span>
<span id="cb10-3"><a href="lectura.html#cb10-3" tabindex="-1"></a><span class="fu">head</span>(DEf17)</span></code></pre></div>
<pre><code>##   PROVRES SEXO CAUSA MAT       GRUPEDAD CUENTA
## 1      82    1   V22         06_25 a 29      1
## 2      30    1   D48     17_80 y m\xe1s      1
## 3      42    1   I50     17_80 y m\xe1s      7
## 4      70    1   W36         07_30 a 34      1
## 5      82    1   Y30         06_25 a 29      1
## 6      54    1   K72         11_50 a 54      4</code></pre>
<p>Otras opciones posibles:</p>
<ul>
<li><p>Paquete con datos: por ejemplo</p>
<ul>
<li><a href="https://cran.r-project.org/web/packages/wpp2019/index.html">wpp19</a>: estimaciones y proyecciones de Naciones Unidas, revisión 2019.</li>
<li><a href="https://www.unhcr.org/refugee-statistics/insights/explainers/refugees-r-package.html">refugiados</a>: información sobre stock y flujos de refugiados. Estimaciones de Naciones Unidas.</li>
</ul></li>
<li><p>Con conexión a un <a href="https://rpubs.com/FvD/acceder-bases-de-datos-en-r">servidor</a>: podemos acceder a una base de datos SQL Server, Oracle, etc. desde R, leyendo (y deitando) sus tablas a partir de las credenciales que tengamos asignadas.</p></li>
<li><p>Planillas de <a href="https://googlesheets4.tidyverse.org/">google</a>: la posibilidad de leer y escribir planillas de cálculo en la nube.</p></li>
<li><p>API: realizar pedidos de información mediante…, como por ejemplo</p></li>
</ul>
<!-- ::: {.take_note_box  .take_note data-latex="{take_note}"} -->
<!-- COVID19 data: <br> -->
<!-- Si querés estudiar la evolución de los casos nuevos y las defunciones registradas por covid19 podés descargar online la base, que esta disponible de manera libre por MSAL (aplausos). Está contenida en un archivo "zip". La descargamos y la descomprimimos con la ayuda del paquete *zip*,luego la leemos como cualquier csv (en este caso las primeras 1000 filas):<br> -->
<!-- `library(zip)`<br> -->
<!-- `url <- 'https://sisa.msal.gov.ar/datos/descargas/covid-19/files/Covid19Casos.zip'`<br> -->
<!-- `download.file(url, "Covid19Casos.zip")`<br> -->
<!-- `unzip("Covid19Casos.zip")`<br> -->
<!-- `covid_data <- read.csv("Covid19Casos.csv", fileEncoding = "UTF-8", nrows = 1000)` -->
<!-- ::: -->
<div id="actividad-3" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Actividad<a href="lectura.html#actividad-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Seguro ya estas cansado de levantar datos: “Dame el censo” <svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM256 0a256 256 0 1 0 0 512A256 256 0 1 0 256 0zM176.4 240a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm192-32a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM184 328c-13.3 0-24 10.7-24 24s10.7 24 24 24H328c13.3 0 24-10.7 24-24s-10.7-24-24-24H184z"/></svg> se escucha murmurar en el aula-zoom.</p>
<p>Trabajaremos con una muestra aleatoria de viviendas del Censo 2010 en la Ciudad Autónoma de Buenos Aires. Los datos censales provienen de un proyecto de investigación expuesto en la conferencia <a href="http://www.redaepa.org.ar/wp-content/uploads/2017/09/PROGRAMA-JORNADAS-AEPA.pdf">AEPA17</a>, y que tiene como objetivo traducir a microdato cualquier base con formato REDATAM, y cuyos resultados para el censo 2010 de Argentina pueden verse <a href="http://datar.info/dataset/censo-2010-microdatos">aquí</a>. La base allí disponible <em>NO</em> es oficial, por lo que sus resultados pueden no ser los <a href="https://www.indec.gob.ar/indec/web/Nivel4-Tema-2-41-135">publicados</a>, pero con motivo del taller nos permite jugar con las herramientas de manipulación de datos a nivel de máxima desagregación.</p>
<p>Terminemos de afianzar lo visto hasta aquí. Te proponemos resolver/responder:</p>
<ol style="list-style-type: lower-alpha">
<li><p>Chequear que todas las versiones de la base de datos de la eph que leímos tengan la misma cantidad de observaciones (filas).</p></li>
<li><p>¿Cuántas muertes fueron registradas en el año 2017? ¿Cuantas de mujeres? ¿Cuántas en la provincia de Santa Fe? Si, necesitas un diccionario de datos, incluido en la <a href="https://www.argentina.gob.ar/salud/deis/datos/defunciones">web</a>.</p></li>
<li><p>Leer <em>“C2010_CABA_muestra.csv”</em> (por deafult con separador “,”) y guardarlo en un objeto llamado <em>caba2010_br</em> (<em>br</em> por bruta, aún sin cambios).</p></li>
<li><p>Explorar el objeto leído en el punto anterior con lo visto hasta quí, y resaltar aspectos que te llamen la atención.</p></li>
</ol>
</div>
<div id="recursos-adicionales" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Recursos adicionales<a href="lectura.html#recursos-adicionales" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><a href="https://github.com/rstudio/cheatsheets/blob/master/data-import.pdf">readr</a> es un paquete del entorno <em>tidyerse</em> que incluye <em>readxl</em>.</p></li>
<li><p><a href="https://www.aacademica.org/pablo.de.grande/46.pdf">De Grande, Pablo (2016). El formato Redatam. Estudios demográficos y urbanos, 31, 3 (93) 811-832.</a></p></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dplyr.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-lectura.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["https://github.com/rstudio/bookdown-demo/raw/master/02-lectura.Rmd"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"includes": {
"before_body": "figs/logoUNLU.png"
}
});
});
</script>

</body>

</html>
