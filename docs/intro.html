<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 R Base | Taller de R aplicado a la Demografía</title>
  <meta name="description" content="2 R Base | Taller de R aplicado a la Demografía" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="2 R Base | Taller de R aplicado a la Demografía" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="IvanWilli/TallerDemoR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 R Base | Taller de R aplicado a la Demografía" />
  
  
  

<meta name="author" content="Ayelén Martinez, Florencia Bathory e Iván Williams" />


<meta name="date" content="2023-11-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>

<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Taller de R aplicado a la demografía</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introducción</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#información-general"><i class="fa fa-check"></i><b>1.1</b> Información general</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#preparándonos"><i class="fa fa-check"></i><b>1.2</b> PrepaRándonos</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#instalación-de-y-rstudio"><i class="fa fa-check"></i><b>1.2.1</b> Instalación de y RStudio</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#instalación-de-paquetes"><i class="fa fa-check"></i><b>1.2.2</b> Instalación de paquetes</a></li>
<li class="chapter" data-level="1.2.3" data-path="index.html"><a href="index.html#foro"><i class="fa fa-check"></i><b>1.2.3</b> Foro</a></li>
<li class="chapter" data-level="1.2.4" data-path="index.html"><a href="index.html#por-último"><i class="fa fa-check"></i><b>1.2.4</b> Por último</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#presentación-inicial"><i class="fa fa-check"></i><b>1.3</b> Presentación inicial</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> R Base</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#el-proyecto-taller"><i class="fa fa-check"></i><b>2.1</b> El proyecto Taller</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="intro.html"><a href="intro.html#variables"><i class="fa fa-check"></i><b>2.1.1</b> Variables</a></li>
<li class="chapter" data-level="2.1.2" data-path="intro.html"><a href="intro.html#actividad"><i class="fa fa-check"></i><b>2.1.2</b> Actividad</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#vectores"><i class="fa fa-check"></i><b>2.2</b> Vectores</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intro.html"><a href="intro.html#actividad-1"><i class="fa fa-check"></i><b>2.2.1</b> Actividad</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#data.frames"><i class="fa fa-check"></i><b>2.3</b> Data.frames</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="intro.html"><a href="intro.html#actividad-2"><i class="fa fa-check"></i><b>2.3.1</b> Actividad</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#listas"><i class="fa fa-check"></i><b>2.4</b> Listas</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intro.html"><a href="intro.html#actividad-3"><i class="fa fa-check"></i><b>2.4.1</b> Actividad</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#referencias-y-materiales-adicionales"><i class="fa fa-check"></i><b>2.5</b> Referencias y materiales adicionales</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><p>Taller de R aplicado a la Demografía</p></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">2</span> R Base<a href="intro.html#intro" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="el-proyecto-taller" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> El proyecto Taller<a href="intro.html#el-proyecto-taller" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Un <strong>proyecto</strong> es el marco en el cual realizás tu investigación o trabajo. Contiene los insumos, procesos y resultados. Empecemos por crear uno desde el menú: <em>File/New Project</em>, seleccionando el directorio de trabajo. Allí encontrarás un archivo con extensión <strong>R.proj</strong>. Creemos la carpeta de esta unidad, y también un script (<em>File/New File/R Script</em>) de extensión <em>“.R”</em>, que llamemos <em>Unidad1.R</em>, en el que seguiremos los contenidos y resolveremos los ejercicios.</p>
<p>Para conocer “donde estamos parados”, nuestro directorio de trabajo (<em>working directory</em>) se encuentra por default en la carpeta del proyecto:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="intro.html#cb3-1" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div>
<div id="variables" class="section level3 hasAnchor" number="2.1.1">
<h3><span class="header-section-number">2.1.1</span> Variables<a href="intro.html#variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Para adentrarnos en las características de <strong>R</strong>, censaremos un <strong>hogar</strong>. Pero… ¿qué es un hogar? Es una unidad de análisis demográfica, definida en un marco operativo censal: <em>“se entiende por hogar una persona que vive sola o un grupo de personas que pueden o no estar emparentadas pero que comparten el presupuesto para los gastos de alimentación” (ONU, 2011)</em> (ojo, no confundir con <em>vivienda</em> y/o <em>familia</em>).</p>
<p>Resulta que nos fue asignada determinada vivienda, con un solo hogar. Al llegar a la cuadra vemos lo siguiente…</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-5"></span>
<img src="figs/censista.jpg" alt="Fuente: https://www.economist.com/books-and-arts/2020/04/16/a-lively-and-enlightening-history-of-the-census" width="640" />
<p class="caption">
Figure 2.1: Fuente: <a href="https://www.economist.com/books-and-arts/2020/04/16/a-lively-and-enlightening-history-of-the-census" class="uri">https://www.economist.com/books-and-arts/2020/04/16/a-lively-and-enlightening-history-of-the-census</a>
</p>
</div>
<p>Por suerte nos fue asignada la siguiente vivienda. Son 6 miembros. ¿Cómo se listan los miembros de un hogar en un formulario censal?</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-6"></span>
<img src="figs/censoListaMiembros.png" alt="fuente: en base a https://www.indec.gob.ar/indec/web/Nivel3-Tema-2-41" width="552" />
<p class="caption">
Figure 2.2: fuente: en base a <a href="https://www.indec.gob.ar/indec/web/Nivel3-Tema-2-41" class="uri">https://www.indec.gob.ar/indec/web/Nivel3-Tema-2-41</a>
</p>
</div>
<p>Una vez completado el formulario <em>persona</em> para cada miembro, nos retiramos <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M320 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM125.7 175.5c9.9-9.9 23.4-15.5 37.5-15.5c1.9 0 3.8 .1 5.6 .3L137.6 254c-9.3 28 1.7 58.8 26.8 74.5l86.2 53.9-25.4 88.8c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l28.7-100.4c5.9-20.6-2.6-42.6-20.7-53.9L238 299l30.9-82.4 5.1 12.3C289 264.7 323.9 288 362.7 288H384c17.7 0 32-14.3 32-32s-14.3-32-32-32H362.7c-12.9 0-24.6-7.8-29.5-19.7l-6.3-15c-14.6-35.1-44.1-61.9-80.5-73.1l-48.7-15c-11.1-3.4-22.7-5.2-34.4-5.2c-31 0-60.8 12.3-82.7 34.3L57.4 153.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l23.1-23.1zM91.2 352H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h69.6c19 0 36.2-11.2 43.9-28.5L157 361.6l-9.5-6c-17.5-10.9-30.5-26.8-37.9-44.9L91.2 352z"/></svg> dando las gracias y nos sentamos a inspeccionar las características del hogar en <em>R</em>. Para esto empezaremos con los atributos del jefe o persona de referencia: Horacio <svg aria-hidden="true" role="img" viewBox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c.2 35.5-28.5 64.3-64 64.3H128.1c-35.3 0-64-28.7-64-64V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24zM352 224a64 64 0 1 0 -128 0 64 64 0 1 0 128 0zm-96 96c-44.2 0-80 35.8-80 80c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16c0-44.2-35.8-80-80-80H256z"/></svg>.</p>
<p>La asignación de variables (y de todo tipo de objeto) se realiza mediante el operador <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg> (veáse la direccionalidad <strong>objeto</strong> <svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg> <strong>valor</strong>).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="intro.html#cb4-1" tabindex="-1"></a>edad <span class="ot">&lt;-</span> <span class="dv">63</span></span></code></pre></div>
<p>Es recomendable no nombrar objetos con números al inicio, y sin incluir coma u otros caracteres especiales. También pueden encontrar el uso de <strong>=</strong> para asignar. ¿Qué usar?</p>
<p>Para ver el contenido del objeto creado, podemos ejecutar su nombre en la consola, o desde el script pintando el objeto y presionando el botón <em>Run</em> (o <em>ctrl+enter</em>):</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="intro.html#cb5-1" tabindex="-1"></a>edad </span></code></pre></div>
<pre><code>## [1] 63</code></pre>
<p>Las operaciones lógicas estan por detrás de la mayoría de los procesos que realizaremos en el taller. ¿Es de <strong>equivalencia</strong> la siguiente relación?</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="intro.html#cb7-1" tabindex="-1"></a>edad <span class="sc">==</span> <span class="dv">50</span> </span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>¿Es <strong>menor</strong> que…?</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="intro.html#cb9-1" tabindex="-1"></a>edad <span class="sc">&lt;</span> <span class="dv">40</span> </span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Otras operaciones lógicas son: <strong>&gt;</strong>, <strong>&lt;=</strong>, <strong>&gt;=</strong>, <strong>!=</strong> (distinto), etc. (luego veremos algunas más).<br />
Las operaciones sin asignación no cambian el valor de la variable creada:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="intro.html#cb11-1" tabindex="-1"></a>edad <span class="sc">+</span> <span class="dv">10</span></span></code></pre></div>
<pre><code>## [1] 73</code></pre>
<p>¡Atención! lenguaje sensible a mayúsculas:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="intro.html#cb13-1" tabindex="-1"></a>Edad <span class="ot">&lt;-</span> <span class="dv">45</span></span>
<span id="cb13-2"><a href="intro.html#cb13-2" tabindex="-1"></a>Edad <span class="sc">!=</span> edad</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Los tipos de variable más relevantes son:</p>
<ul>
<li><strong>numeric</strong> (decimales con “.”)</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="intro.html#cb15-1" tabindex="-1"></a>edad_exacta <span class="ot">&lt;-</span> <span class="fl">63.72</span></span>
<span id="cb15-2"><a href="intro.html#cb15-2" tabindex="-1"></a>edad <span class="sc">==</span> <span class="fu">trunc</span>(edad_exacta)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<ul>
<li><strong>character</strong> (string)</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="intro.html#cb17-1" tabindex="-1"></a>nombre <span class="ot">&lt;-</span> <span class="st">&quot;Horacio&quot;</span></span>
<span id="cb17-2"><a href="intro.html#cb17-2" tabindex="-1"></a></span>
<span id="cb17-3"><a href="intro.html#cb17-3" tabindex="-1"></a><span class="co"># Qué clase de objeto es? (esto es un comentario en R)</span></span>
<span id="cb17-4"><a href="intro.html#cb17-4" tabindex="-1"></a><span class="fu">class</span>(nombre)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<ul>
<li><strong>logic</strong> (verdadero/falso)</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="intro.html#cb19-1" tabindex="-1"></a>autoRespondente <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb19-2"><a href="intro.html#cb19-2" tabindex="-1"></a>autoRespondente <span class="sc">==</span> <span class="cn">FALSE</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<ul>
<li><strong>date</strong> (fecha)</li>
</ul>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="intro.html#cb21-1" tabindex="-1"></a>f_nacim <span class="ot">&lt;-</span> <span class="st">&quot;1960/01/01&quot;</span></span></code></pre></div>
<p>Mmm pero <code>f_nacim</code> es <em>character</em> (<code>class(f_nacim)</code>), por lo que deberíamos transformarlo. La función base para cambio de <em>tipos</em> comienza con <em>as</em>. Utilicemos el predictor de comando, a ver qué nos sugiere… (presiona <em>“as.”</em> para ver la lista desplegable de sugerencias). En este caso:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="intro.html#cb22-1" tabindex="-1"></a>f_nacim <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(f_nacim)</span></code></pre></div>
<div class="take_note_box take_note">
<p>Fechas: si quisiéramos interpretar una fecha con el formato que utilizamos en Argentina, tendríamos que especificarlo:<br>
<code>f_nacim &lt;- as.Date("01/01/1960", format = "%d/%m/%Y")</code>.<br>Por suerte hay paquetes como <code>lubridate</code> que nos harán las cosas más fáciles. Lo veremos en unidades siguientes.</p>
</div>
<p>La ausencia de valor se representa con <strong>NA</strong> (missing/vacío):</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="intro.html#cb23-1" tabindex="-1"></a>sexo <span class="ot">&lt;-</span> <span class="cn">NA</span> </span>
<span id="cb23-2"><a href="intro.html#cb23-2" tabindex="-1"></a><span class="co">#un operador lógico  importante es preguntar si un objeto es vacío:</span></span>
<span id="cb23-3"><a href="intro.html#cb23-3" tabindex="-1"></a><span class="fu">is.na</span>(sexo)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Tu yo del futuro, otros humanos y múltiples computadoras leerán tu código: hablemos de algunas buenas practicas (aquí <a href="HUmanos%20y%20robots">algunas</a>).</p>
</div>
<div id="actividad" class="section level3 hasAnchor" number="2.1.2">
<h3><span class="header-section-number">2.1.2</span> Actividad<a href="intro.html#actividad" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>El hogar que te fue asignado tambien tiene un jefe/a o persona de referencia. Te proponemos lo siguiente:</p>
<ol style="list-style-type: lower-alpha">
<li><p>Crear los atributos <code>nombre</code>, <code>sexo</code>, <code>edad</code>, <code>f_nacim</code>.</p></li>
<li><p>El censo lo respondió otra persona. Asigna un valor a <code>autoRespondente</code>.</p></li>
<li><p>Crear la variable <code>edad_en_10_años</code> que tenga la edad cumplida en 10 años. Corroborar que no son equivalentes.</p></li>
<li><p>Obtener la diferencia entre ambas edades: <code>edad_en_10_años - edad_hoy</code>.</p></li>
</ol>
<hr />
</div>
</div>
<div id="vectores" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Vectores<a href="intro.html#vectores" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Es la estructura de datos más simple en R. Un vector es un arreglo de elementos del mismo tipo (<em>podes comprobarlo</em>). Inicializamos un vector <strong>c</strong>ombinando elementos mediante <strong>c(…)</strong>. Por ejemplo <code>c(1,2,3)</code>. Las variables son vectores de 1 elemento.</p>
<p>Creemos los vectores de atributos de los miembros del hogar censado, cuyo <strong>orden</strong> refiere a cada unidad de análisis <strong>persona</strong>:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="intro.html#cb25-1" tabindex="-1"></a>nombre_jefe     <span class="ot">&lt;-</span> <span class="st">&quot;Horacio&quot;</span></span>
<span id="cb25-2"><a href="intro.html#cb25-2" tabindex="-1"></a>nombre_conyuge  <span class="ot">&lt;-</span> <span class="st">&quot;José&quot;</span></span>
<span id="cb25-3"><a href="intro.html#cb25-3" tabindex="-1"></a>nombre_hijos    <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Iván&quot;</span>, <span class="st">&quot;Facundo&quot;</span>, <span class="st">&quot;Cristian&quot;</span>, <span class="st">&quot;Florencia&quot;</span>)</span>
<span id="cb25-4"><a href="intro.html#cb25-4" tabindex="-1"></a>nombre          <span class="ot">&lt;-</span> <span class="fu">c</span>(nombre_jefe, nombre_conyuge, nombre_hijos) <span class="co"># unión de vectores mediante c(), los &quot;apilo&quot;</span></span>
<span id="cb25-5"><a href="intro.html#cb25-5" tabindex="-1"></a>edad            <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">63</span>, <span class="dv">60</span>, <span class="dv">35</span>, <span class="dv">32</span>, <span class="dv">27</span>, <span class="dv">27</span>)</span>
<span id="cb25-6"><a href="intro.html#cb25-6" tabindex="-1"></a>f_nacim         <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">c</span>(<span class="st">&quot;1960/01/01&quot;</span>, <span class="st">&quot;1961/11/05&quot;</span>, <span class="st">&quot;1985/11/08&quot;</span>, <span class="st">&quot;1987/01/21&quot;</span>, <span class="st">&quot;1993/10/23&quot;</span>, <span class="st">&quot;1993/10/24&quot;</span>))</span>
<span id="cb25-7"><a href="intro.html#cb25-7" tabindex="-1"></a>sexo            <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;v&quot;</span>, <span class="st">&quot;m&quot;</span>, <span class="st">&quot;v&quot;</span>, <span class="cn">NA</span>, <span class="st">&quot;v&quot;</span>, <span class="st">&quot;m&quot;</span>)</span>
<span id="cb25-8"><a href="intro.html#cb25-8" tabindex="-1"></a>autoRespondente <span class="ot">&lt;-</span> <span class="fu">c</span>(T, <span class="fu">rep</span>(F, <span class="dv">5</span>)) <span class="co"># repetí un valor 5 veces</span></span>
<span id="cb25-9"><a href="intro.html#cb25-9" tabindex="-1"></a></span>
<span id="cb25-10"><a href="intro.html#cb25-10" tabindex="-1"></a><span class="co"># ¿Acabo de &quot;pisar&quot; objetos? ¿Qué significa? </span></span></code></pre></div>
<p>¿Qué tipo de objetos son? ¿Qué información contienen? Algunas funciones útiles de exploración…</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="intro.html#cb26-1" tabindex="-1"></a><span class="fu">class</span>(f_nacim)          <span class="co"># tipo de objeto</span></span></code></pre></div>
<pre><code>## [1] &quot;Date&quot;</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="intro.html#cb28-1" tabindex="-1"></a><span class="fu">length</span>(autoRespondente) <span class="co"># cantidad de elementos de un vector</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="intro.html#cb30-1" tabindex="-1"></a><span class="fu">str</span>(nombre)               <span class="co"># estructura</span></span></code></pre></div>
<pre><code>##  chr [1:6] &quot;Horacio&quot; &quot;José&quot; &quot;Iván&quot; &quot;Facundo&quot; &quot;Cristian&quot; &quot;Florencia&quot;</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="intro.html#cb32-1" tabindex="-1"></a><span class="fu">summary</span>(edad)           <span class="co"># resumen de elementos</span></span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   27.00   28.25   33.50   40.67   53.75   63.00</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="intro.html#cb34-1" tabindex="-1"></a><span class="fu">unique</span>(sexo)            <span class="co"># valores únicos</span></span></code></pre></div>
<pre><code>## [1] &quot;v&quot; &quot;m&quot; NA</code></pre>
<p>¿Cómo extraer información de un vector? con <strong>[…]</strong>. Por ejemplo, el nombre de la cuarta persona listada en mi hogar.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="intro.html#cb36-1" tabindex="-1"></a>nombre[<span class="dv">4</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Facundo&quot;</code></pre>
<p>¿Y de los tres últimos? Incluyo como referencia el vector de posiciones <code>c(4,5,6)</code>.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="intro.html#cb38-1" tabindex="-1"></a>nombre[<span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>)] </span></code></pre></div>
<pre><code>## [1] &quot;Facundo&quot;   &quot;Cristian&quot;  &quot;Florencia&quot;</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="intro.html#cb40-1" tabindex="-1"></a>nombre[<span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>] <span class="co"># equivalente</span></span></code></pre></div>
<pre><code>## [1] &quot;Facundo&quot;   &quot;Cristian&quot;  &quot;Florencia&quot;</code></pre>
<p>Un aspecto muuuy útil de R: vectorizar operaciones. Por default aplica la operación a cada uno de los elementos de un vector, sin necesidad de <em>loopear</em> a lo largo del mismo. Veamos qué pasa con los operadores lógicos que vimos en las variables:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="intro.html#cb42-1" tabindex="-1"></a>nombre <span class="sc">==</span> <span class="st">&quot;Facundo&quot;</span></span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE FALSE FALSE</code></pre>
<p>¿Qué personas tienen una edad menor a 33?</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="intro.html#cb44-1" tabindex="-1"></a>edad <span class="sc">&lt;</span> <span class="dv">33</span></span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE  TRUE  TRUE</code></pre>
<p>¡Pero decime los nombres che!</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="intro.html#cb46-1" tabindex="-1"></a>nombre[edad <span class="sc">&lt;</span> <span class="dv">33</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Facundo&quot;   &quot;Cristian&quot;  &quot;Florencia&quot;</code></pre>
<p>Podemos comparar internamente elementos de un vector. ¿Qué estamos preguntando aquí?</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="intro.html#cb48-1" tabindex="-1"></a>f_nacim[<span class="dv">1</span>] <span class="sc">&lt;</span> f_nacim </span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE  TRUE  TRUE  TRUE</code></pre>
<div class="take_note_box take_note">
<p>Más sobre extracción de elementos de un vector: <br>
¿En qué orden fui listado yo?: <code>which(nombre=="Iván")</code><br>
¿Quiénes me caen bien? Puedo usar un operador lógico para excluir una posición (y dejar el resto).
Todos menos Cristian:<br>
<code>nombre[nombre!="Cristian"]</code><br>
Otra forma de verlo, en dos pasos:<br>
<code>posicion_de_Cristian &lt;-  which(nombre=="Cristian")</code><br> <code>nombre[-posicion_de_Cristian]</code></p>
</div>
<p>Medidas resúmen útiles sobre vectores numéricos:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="intro.html#cb50-1" tabindex="-1"></a><span class="fu">mean</span>(edad)</span></code></pre></div>
<pre><code>## [1] 40.66667</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="intro.html#cb52-1" tabindex="-1"></a><span class="fu">min</span>(f_nacim)</span></code></pre></div>
<pre><code>## [1] &quot;1960-01-01&quot;</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="intro.html#cb54-1" tabindex="-1"></a><span class="fu">range</span>(edad)</span></code></pre></div>
<pre><code>## [1] 27 63</code></pre>
<p>Antes de continuar: si queremos reemplazar por ejemplo <code>f_nacim</code> por <code>fecha_nacim</code>, podemos utilizar lo que nos ofrece <em>RStudio</em> para buscar y reemplazar (con <em>CRTL+f</em> ) recreando el objeto desde el inicio, o crear un vector idéntico (y eliminar el anterior).</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="intro.html#cb56-1" tabindex="-1"></a>fecha_nacim <span class="ot">&lt;-</span> f_nacim</span>
<span id="cb56-2"><a href="intro.html#cb56-2" tabindex="-1"></a><span class="co"># remover (bienvenido si no quieres ir dejando basura pesada por allí)</span></span>
<span id="cb56-3"><a href="intro.html#cb56-3" tabindex="-1"></a><span class="fu">rm</span>(f_nacim) </span></code></pre></div>
<div class="take_note_box take_note">
<p>Ayuda!!!
Se puede pedir ayuda consultando la documentación de las funciones:<code>?range</code> o <code>help(range)</code>. Y muy probablmente alguien ya se topó con tu problema:<br>
<img src="figs/matrix.jfif" alt="Caption for the picture." /></p>
</div>
<div id="actividad-1" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Actividad<a href="intro.html#actividad-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Considerando el hogar de Horacio, responder:</p>
<ol style="list-style-type: lower-alpha">
<li><p>¿Qué valores únicos tiene la variable <code>autoRespondente</code>?</p></li>
<li><p>¿Cuales son los nombres de las personas que censé con una edad mayor a 50?</p></li>
<li><p>¿En qué fecha nació Florencia?</p></li>
<li><p>Toma 4 personas que conozcas e incorpóralos como miembros de tu hogar: crear los vectores de atributos <code>nombre</code>, <code>sexo</code> , <code>edad</code> y <code>fecha de nacimiento</code> de los miembros del hogar del grupo. Tener en cuenta el <strong>orden</strong> <svg aria-hidden="true" role="img" viewBox="0 0 64 512" style="height:1em;width:0.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64V320c0 17.7 14.3 32 32 32s32-14.3 32-32V64zM32 480a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"/></svg>.</p></li>
<li><p>¿Cómo se llama la segunda persona listada? Obtener el nombre utilizando corchetes <code>[]</code>.</p></li>
<li><p>Obtener el rango de la edad de los miembros del hogar y su promedio. Para lo primero se puede usar <code>min</code> y <code>max</code> o directamente la función <code>range</code>.</p></li>
<li><p>Mediante <code>Sys.Date()</code> se puede ontener la fecha de hoy (guardarla en una variable si es preferible). Calcular la edad exacta de los miembros, al día de la fecha, de la siguiente manera: <code>(fecha_hoy - fecha_nacim)/365</code> (restamos fechas y las convertimos en años de manera aproximada).</p></li>
<li><p>¿Y la edad <em>cumplida</em> de los miembros cuál es? ¿El respondente informó correctamente la edad de todos los miembros?</p></li>
<li><p>Con la función <code>nchar()</code> podés obtener el largo de un texto. ¿Cuál es el nombre más largo?</p></li>
</ol>
<hr />
</div>
</div>
<div id="data.frames" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Data.frames<a href="intro.html#data.frames" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>El objeto más flexible en R es el <strong>data.frame</strong>: permite combinar múltiples variables de distintas clases, símil a las tablas que tratamos en otros softwares estadísticos o excel. Organicemos los atributos de los miembros de mi hogar en un <strong>data.frame</strong>:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="intro.html#cb57-1" tabindex="-1"></a>hogar <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(nombre, sexo, edad, fecha_nacim, autoRespondente, <span class="at">stringsAsFactors =</span> F) </span>
<span id="cb57-2"><a href="intro.html#cb57-2" tabindex="-1"></a>hogar</span></code></pre></div>
<pre><code>##      nombre sexo edad fecha_nacim autoRespondente
## 1   Horacio    v   63  1960-01-01            TRUE
## 2      José    m   60  1961-11-05           FALSE
## 3      Iván    v   35  1985-11-08           FALSE
## 4   Facundo &lt;NA&gt;   32  1987-01-21           FALSE
## 5  Cristian    v   27  1993-10-23           FALSE
## 6 Florencia    m   27  1993-10-24           FALSE</code></pre>
<p>¿Características?</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="intro.html#cb59-1" tabindex="-1"></a><span class="fu">class</span>(hogar)     <span class="co"># clase de objeto</span></span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="intro.html#cb61-1" tabindex="-1"></a><span class="fu">str</span>(hogar)       <span class="co"># estructura</span></span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    6 obs. of  5 variables:
##  $ nombre         : chr  &quot;Horacio&quot; &quot;José&quot; &quot;Iván&quot; &quot;Facundo&quot; ...
##  $ sexo           : chr  &quot;v&quot; &quot;m&quot; &quot;v&quot; NA ...
##  $ edad           : num  63 60 35 32 27 27
##  $ fecha_nacim    : Date, format: &quot;1960-01-01&quot; &quot;1961-11-05&quot; ...
##  $ autoRespondente: logi  TRUE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="intro.html#cb63-1" tabindex="-1"></a><span class="fu">summary</span>(hogar)   <span class="co"># resumen</span></span></code></pre></div>
<pre><code>##     nombre              sexo                edad        fecha_nacim        
##  Length:6           Length:6           Min.   :27.00   Min.   :1960-01-01  
##  Class :character   Class :character   1st Qu.:28.25   1st Qu.:1967-11-06  
##  Mode  :character   Mode  :character   Median :33.50   Median :1986-06-15  
##                                        Mean   :40.67   Mean   :1980-05-24  
##                                        3rd Qu.:53.75   3rd Qu.:1992-02-14  
##                                        Max.   :63.00   Max.   :1993-10-24  
##  autoRespondente
##  Mode :logical  
##  FALSE:5        
##  TRUE :1        
##                 
##                 
## </code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="intro.html#cb65-1" tabindex="-1"></a><span class="fu">colnames</span>(hogar)  <span class="co"># nombres de columnas</span></span></code></pre></div>
<pre><code>## [1] &quot;nombre&quot;          &quot;sexo&quot;            &quot;edad&quot;            &quot;fecha_nacim&quot;    
## [5] &quot;autoRespondente&quot;</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="intro.html#cb67-1" tabindex="-1"></a><span class="fu">ncol</span>(hogar)      <span class="co"># número de columnas</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="intro.html#cb69-1" tabindex="-1"></a><span class="fu">nrow</span>(hogar)      <span class="co"># número de filas</span></span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>Para <em>verlo</em> tipo excel puedes usar <code>View(hogar)</code> o directamente desde el tab <code>Environment</code> haciendo click en el objeto. La selección de variables en un <em>data.frame</em> puede realizarse de distintas maneras. Por ejemplo para la variable <em>sexo</em>:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="intro.html#cb71-1" tabindex="-1"></a><span class="co"># con &quot;$&quot;: al tipear el signo te sugiere las variables que contiene</span></span>
<span id="cb71-2"><a href="intro.html#cb71-2" tabindex="-1"></a>hogar<span class="sc">$</span>sexo </span></code></pre></div>
<pre><code>## [1] &quot;v&quot; &quot;m&quot; &quot;v&quot; NA  &quot;v&quot; &quot;m&quot;</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="intro.html#cb73-1" tabindex="-1"></a><span class="co"># Una vez dentro del vector, vale lo que vimos en la sección previa de vectores. ¿Cuál es el miembro con sexo sin valor?</span></span>
<span id="cb73-2"><a href="intro.html#cb73-2" tabindex="-1"></a>hogar<span class="sc">$</span>nombre[<span class="fu">is.na</span>(hogar<span class="sc">$</span>sexo)]</span></code></pre></div>
<pre><code>## [1] &quot;Facundo&quot;</code></pre>
<p>También podemos seleccionar datos mediante coordendas del tipo <strong>[fila, columna]</strong>, o condicionado a la variable elegida.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="intro.html#cb75-1" tabindex="-1"></a>hogar[<span class="dv">2</span>,<span class="dv">3</span>]    <span class="co"># fila 2, columna 3</span></span></code></pre></div>
<pre><code>## [1] 60</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="intro.html#cb77-1" tabindex="-1"></a>hogar<span class="sc">$</span>edad[<span class="dv">2</span>] <span class="co"># en la variable edad, seleccionar el segundo elemento</span></span></code></pre></div>
<pre><code>## [1] 60</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="intro.html#cb79-1" tabindex="-1"></a>hogar[<span class="dv">2</span>,]     <span class="co"># ¿Y esto?</span></span></code></pre></div>
<pre><code>##   nombre sexo edad fecha_nacim autoRespondente
## 2   José    m   60  1961-11-05           FALSE</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="intro.html#cb81-1" tabindex="-1"></a>hogar[,<span class="dv">2</span>]     <span class="co"># ¿Y esto cuando lo vimos?</span></span></code></pre></div>
<pre><code>## [1] &quot;v&quot; &quot;m&quot; &quot;v&quot; NA  &quot;v&quot; &quot;m&quot;</code></pre>
<p>Al crear el <em>data.frame</em> forzamos la no existencia de variables de tipo <strong>factor</strong> (<code>stringsAsFactors = F</code>). Los tipos de variable <em>factor</em> son variables categóricas (nominales u ordinales), con niveles (o códigos) y etiquetas (al estilo SPSS). Son muy relevantes para algunos paquetes que veremos más adelante, como <em>ggplot2</em>, para dar jerarquía al orden de visualización de las series. Por ejemplo, podemos <strong>crear</strong> la variable relación de parentezco <em>rp</em> respecto al jefe del hogar o persona de referencia.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="intro.html#cb83-1" tabindex="-1"></a>hogar<span class="sc">$</span>rp <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;jefe&quot;</span>, <span class="st">&quot;cónyuge&quot;</span>, <span class="st">&quot;hije&quot;</span>, <span class="st">&quot;hije&quot;</span>, <span class="st">&quot;hije&quot;</span>, <span class="st">&quot;hije&quot;</span>))</span>
<span id="cb83-2"><a href="intro.html#cb83-2" tabindex="-1"></a></span>
<span id="cb83-3"><a href="intro.html#cb83-3" tabindex="-1"></a><span class="co"># característica</span></span>
<span id="cb83-4"><a href="intro.html#cb83-4" tabindex="-1"></a><span class="fu">class</span>(hogar<span class="sc">$</span>rp)</span></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="intro.html#cb85-1" tabindex="-1"></a><span class="fu">str</span>(hogar<span class="sc">$</span>rp) <span class="co"># para R siempre la variable será esencialmente un entero</span></span></code></pre></div>
<pre><code>##  Factor w/ 3 levels &quot;cónyuge&quot;,&quot;hije&quot;,..: 3 1 2 2 2 2</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="intro.html#cb87-1" tabindex="-1"></a><span class="fu">levels</span>(hogar<span class="sc">$</span>rp)</span></code></pre></div>
<pre><code>## [1] &quot;cónyuge&quot; &quot;hije&quot;    &quot;jefe&quot;</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="intro.html#cb89-1" tabindex="-1"></a><span class="fu">nlevels</span>(hogar<span class="sc">$</span>rp)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Al parecer el respondente fue el cónyuge. Hagamos el cambio seleccionando de la variable <code>autoRespondete</code> aquellla observación (persona) que sea:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="intro.html#cb91-1" tabindex="-1"></a>hogar<span class="sc">$</span>autoRespondente[hogar<span class="sc">$</span>rp <span class="sc">==</span> <span class="st">&quot;jefe&quot;</span>]    <span class="ot">&lt;-</span> <span class="cn">FALSE</span>  <span class="co"># ¿Cómo se lee esto?</span></span>
<span id="cb91-2"><a href="intro.html#cb91-2" tabindex="-1"></a>hogar<span class="sc">$</span>autoRespondente[hogar<span class="sc">$</span>rp <span class="sc">==</span> <span class="st">&quot;cónyuge&quot;</span>] <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span></code></pre></div>
<div id="actividad-2" class="section level3 hasAnchor" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Actividad<a href="intro.html#actividad-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: lower-alpha">
<li><p>A partir de los vectores creados en la actividad previa, generar un <em>data.frame</em> con los miembros del hogar.</p></li>
<li><p>Inspeccionar sus características.</p></li>
<li><p>Obtener todos los datos del segundo miembro listado con el uso de corchetes <code>[]</code>.</p></li>
<li><p>Luego de una revisita al hogar encontramos que el tercer miembro listado prefiere que no conste su sexo, y que el cuarto miembro pefiere ser listado con su apodo “Pepe”. Hacer los cambios correspondientes.</p></li>
<li><p>Agregar una variable con el número de caracteres de cada nombre. Informar el promedio.</p></li>
</ol>
<hr />
</div>
</div>
<div id="listas" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Listas<a href="intro.html#listas" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>¿Te preguntarás si hay vida más allá del <strong>data.frame</strong>? Por supuesto, las <strong>listas</strong>. Una lista es una colección de objetos de cualquier tipo (incluidos los data.frame). Por ejemplo si el tercer miembro soy yo, Iván, y formo mi propio hogar dentro de la vivienda, el <strong>listado de hogares</strong> censado tendría dos data.frame:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="intro.html#cb92-1" tabindex="-1"></a>hogar_1 <span class="ot">&lt;-</span> hogar[<span class="sc">-</span><span class="dv">3</span>,] </span>
<span id="cb92-2"><a href="intro.html#cb92-2" tabindex="-1"></a>hogar_2 <span class="ot">&lt;-</span> hogar[<span class="dv">3</span>,]</span>
<span id="cb92-3"><a href="intro.html#cb92-3" tabindex="-1"></a>lista_de_hogares <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">hogar_1 =</span> hogar_1, </span>
<span id="cb92-4"><a href="intro.html#cb92-4" tabindex="-1"></a>                         <span class="at">hogar_2 =</span> hogar_2)</span>
<span id="cb92-5"><a href="intro.html#cb92-5" tabindex="-1"></a></span>
<span id="cb92-6"><a href="intro.html#cb92-6" tabindex="-1"></a><span class="co"># inspecciono</span></span>
<span id="cb92-7"><a href="intro.html#cb92-7" tabindex="-1"></a><span class="fu">str</span>(lista_de_hogares)</span></code></pre></div>
<pre><code>## List of 2
##  $ hogar_1:&#39;data.frame&#39;: 5 obs. of  6 variables:
##   ..$ nombre         : chr [1:5] &quot;Horacio&quot; &quot;José&quot; &quot;Facundo&quot; &quot;Cristian&quot; ...
##   ..$ sexo           : chr [1:5] &quot;v&quot; &quot;m&quot; NA &quot;v&quot; ...
##   ..$ edad           : num [1:5] 63 60 32 27 27
##   ..$ fecha_nacim    : Date[1:5], format: &quot;1960-01-01&quot; &quot;1961-11-05&quot; ...
##   ..$ autoRespondente: logi [1:5] FALSE TRUE FALSE FALSE FALSE
##   ..$ rp             : Factor w/ 3 levels &quot;cónyuge&quot;,&quot;hije&quot;,..: 3 1 2 2 2
##  $ hogar_2:&#39;data.frame&#39;: 1 obs. of  6 variables:
##   ..$ nombre         : chr &quot;Iván&quot;
##   ..$ sexo           : chr &quot;v&quot;
##   ..$ edad           : num 35
##   ..$ fecha_nacim    : Date[1:1], format: &quot;1985-11-08&quot;
##   ..$ autoRespondente: logi FALSE
##   ..$ rp             : Factor w/ 3 levels &quot;cónyuge&quot;,&quot;hije&quot;,..: 2</code></pre>
<p>Para acceder a un elemento de la lista utilizamos doble corchete:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="intro.html#cb94-1" tabindex="-1"></a><span class="co"># el primer hogar del listado es:</span></span>
<span id="cb94-2"><a href="intro.html#cb94-2" tabindex="-1"></a>lista_de_hogares[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>##      nombre sexo edad fecha_nacim autoRespondente      rp
## 1   Horacio    v   63  1960-01-01           FALSE    jefe
## 2      José    m   60  1961-11-05            TRUE cónyuge
## 4   Facundo &lt;NA&gt;   32  1987-01-21           FALSE    hije
## 5  Cristian    v   27  1993-10-23           FALSE    hije
## 6 Florencia    m   27  1993-10-24           FALSE    hije</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="intro.html#cb96-1" tabindex="-1"></a><span class="co"># el nombre del miembro 3 del segundo hogar, mi antigua casa, ahora es:</span></span>
<span id="cb96-2"><a href="intro.html#cb96-2" tabindex="-1"></a>lista_de_hogares[[<span class="dv">1</span>]]<span class="sc">$</span>nombre[<span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Facundo&quot;</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="intro.html#cb98-1" tabindex="-1"></a><span class="co"># puedo utilizar también el nombre del objeto dentro de la lista, en vez de su posición:</span></span>
<span id="cb98-2"><a href="intro.html#cb98-2" tabindex="-1"></a>lista_de_hogares[[<span class="st">&quot;hogar_1&quot;</span>]]<span class="sc">$</span>nombre[<span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Facundo&quot;</code></pre>
<p>Una buena explicación sobre la estructura de selección la dió el mismísimo Hadley Wickham <a href="https://twitter.com/hadleywickham/status/979388069362130944">acá</a>.</p>
<p>Estimados, considerando que no llego a fin de mes, decido incorporarme de nuevo a mi hogar natal, por lo que el hogar número 2 debe ser removido. ¿Cómo incorporo una nueva fila a un <em>data.frame</em>? Se puede utilizar <code>rbind</code> (<code>r</code> de rows, que tiene su primo <code>cbind</code> para unir columnas, con <code>c</code> de columns).</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="intro.html#cb100-1" tabindex="-1"></a><span class="co"># junto los hogares</span></span>
<span id="cb100-2"><a href="intro.html#cb100-2" tabindex="-1"></a>hogar_reunificado <span class="ot">&lt;-</span> <span class="fu">rbind</span>(hogar_1, hogar_2)</span>
<span id="cb100-3"><a href="intro.html#cb100-3" tabindex="-1"></a></span>
<span id="cb100-4"><a href="intro.html#cb100-4" tabindex="-1"></a><span class="co"># lo asigno de vuelta al hogar_natal original</span></span>
<span id="cb100-5"><a href="intro.html#cb100-5" tabindex="-1"></a>lista_de_hogares[[<span class="st">&quot;hogar_1&quot;</span>]] <span class="ot">&lt;-</span> hogar_reunificado</span>
<span id="cb100-6"><a href="intro.html#cb100-6" tabindex="-1"></a></span>
<span id="cb100-7"><a href="intro.html#cb100-7" tabindex="-1"></a><span class="co"># borro de la lista el hogar independiente</span></span>
<span id="cb100-8"><a href="intro.html#cb100-8" tabindex="-1"></a>lista_de_hogares<span class="sc">$</span>hogar_2 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code></pre></div>
<p>Y debo tener el mismo hogar que antes, pero ahora como elemento de un listado:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="intro.html#cb101-1" tabindex="-1"></a><span class="fu">str</span>(lista_de_hogares)</span></code></pre></div>
<pre><code>## List of 1
##  $ hogar_1:&#39;data.frame&#39;: 6 obs. of  6 variables:
##   ..$ nombre         : chr [1:6] &quot;Horacio&quot; &quot;José&quot; &quot;Facundo&quot; &quot;Cristian&quot; ...
##   ..$ sexo           : chr [1:6] &quot;v&quot; &quot;m&quot; NA &quot;v&quot; ...
##   ..$ edad           : num [1:6] 63 60 32 27 27 35
##   ..$ fecha_nacim    : Date[1:6], format: &quot;1960-01-01&quot; &quot;1961-11-05&quot; ...
##   ..$ autoRespondente: logi [1:6] FALSE TRUE FALSE FALSE FALSE FALSE
##   ..$ rp             : Factor w/ 3 levels &quot;cónyuge&quot;,&quot;hije&quot;,..: 3 1 2 2 2 2</code></pre>
<div id="actividad-3" class="section level3 hasAnchor" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> Actividad<a href="intro.html#actividad-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: lower-alpha">
<li>Antes que cierres la puerta, el respondente te avisa que se alquila una pieza al fondo del terreno, donde vive Luis: varón, nacido el 3 de junio del 2000, en su hogar unipersonal. Incorporalo a la lista de hogares de al vivienda.</li>
</ol>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="intro.html#cb103-1" tabindex="-1"></a>hogar_luis <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">nombre =</span> <span class="st">&quot;Luis&quot;</span>, <span class="at">sexo =</span> <span class="st">&quot;v&quot;</span>, <span class="at">edad =</span> <span class="dv">23</span>, <span class="at">fecha_nacim =</span> <span class="st">&quot;2000-06-03&quot;</span>, <span class="at">autoRespondente =</span> <span class="cn">TRUE</span>, <span class="at">rp =</span> <span class="st">&quot;jefe&quot;</span>)</span></code></pre></div>
<ol style="list-style-type: lower-alpha">
<li>Al querer irte Luis te avisa que en verdad el colabora monetariamente con la comida diaria, y hasta cenan juntos por las noches. Probablemente sea mejor unificar todo en un solo hogar. Hazlo recordando eliminar el hogar unipersonal de Luis asignando <em>NULL</em> a ese elemento de la lista, o en todo caso creando un nuevo objeto <code>lista_de_hogares</code> sin un segundo elemento (<em>pisarlo</em>).</li>
</ol>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="intro.html#cb104-1" tabindex="-1"></a>lista_de_hogares <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">hogar_1 =</span> <span class="fu">rbind</span>(hogar, hogar_luis))</span></code></pre></div>
<hr />
</div>
</div>
<div id="referencias-y-materiales-adicionales" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Referencias y materiales adicionales<a href="intro.html#referencias-y-materiales-adicionales" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p><a href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/translations/spanish/base-r_es.pdf">Hoja de ayuda</a></p></li>
<li><p><a href="https://statsanddatasci.netlify.com/post/libros-en-espa%C3%B1ol/">Libros en español</a></p></li>
</ul>

</div>
</div>






            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/01-base.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["https://github.com/rstudio/bookdown-demo/raw/master/01-base.Rmd"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
